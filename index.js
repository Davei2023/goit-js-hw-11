import{a as d,S as f,i as a}from"./assets/vendor-0mS7DWcM.js";/* empty css                      */(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const m=void 0,g=d.create({baseURL:"https://pixabay.com/api/",params:{key:m,image_type:"photo",orientation:"horizontal",safesearch:!0}});function h(i,{page:o=1,perPage:n=20,lang:t="en"}={}){return g.get("",{params:{q:i,page:o,per_page:n,lang:t}}).then(e=>e.data)}const l=document.querySelector(".gallery"),u=document.querySelector(".loader-backdrop"),y=new f(".gallery a",{captions:!0,captionsData:"alt",captionDelay:200,animationSlide:!1,showCounter:!1,overlayOpacity:.7,docClose:!0,history:!0});function L(i){const o=i.map(({webformatURL:n,largeImageURL:t,tags:e})=>`
      <li class="gallery-item">
        <a href="${t}">
          <img src="${n}" alt="${S(e||"")}" loading="lazy" />
        </a>
      </li>
    `).join("");l.insertAdjacentHTML("beforeend",o),y.refresh()}function b(){l.innerHTML=""}function P(){u.classList.remove("is-hidden")}function A(){u.classList.add("is-hidden")}function S(i){return String(i).replace(/[&<>"']/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[o])}const p=document.querySelector(".form"),q=p.elements["search-text"];p.addEventListener("submit",v);function v(i){i.preventDefault();const o=q.value.trim();if(!o){a.warning({message:"Введи ключове слово для пошуку.",position:"topRight"});return}if(o.length>100){a.warning({message:"Пошуковий запит має бути ≤ 100 символів.",position:"topRight"});return}b(),P(),h(o,{page:1,perPage:20,lang:"en"}).then(({hits:t})=>{if(!Array.isArray(t)||t.length===0){a.info({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"});return}L(t)}).catch(t=>{var r,s;const e=(r=t==null?void 0:t.response)==null?void 0:r.status;if(e===429){const c=Number((s=t.response.headers)==null?void 0:s["x-ratelimit-reset"]);a.error({title:"Ліміт запитів",message:`API rate limit exceeded. ${Number.isFinite(c)?`Спробуй через ~${Math.ceil(c)} сек.`:""}`,position:"topRight"})}else e===401||e===403?a.error({title:"API ключ",message:"Невірний або відсутній VITE_PIXABAY_API_KEY у .env",position:"topRight"}):a.error({title:"Помилка",message:"Щось пішло не так. Спробуй пізніше.",position:"topRight"})}).finally(A)}
//# sourceMappingURL=index.js.map
